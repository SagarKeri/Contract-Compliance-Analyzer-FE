<div class="container mt-4" *ngIf="!isLoading">
  <div class="card shadow-sm">
    <div class="card-header bg-secondary text-white">
      <h5 class="mb-0">Edit Compliance</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="updateCompliance()">
        <!-- Compliance Name -->
        <div class="mb-3">
          <label for="complianceName" class="form-label">Compliance Name</label>
          <input
            type="text"
            id="complianceName"
            class="form-control"
            [(ngModel)]="complianceName"
            name="complianceName"
            [ngModelOptions]="{ standalone: true }"
            required
          />
        </div>

        <!-- Domain Dropdown -->
        <div class="mb-3">
          <label for="domainSelect" class="form-label">Select Domain</label>
          <select
            id="domainSelect"
            class="form-select"
            [(ngModel)]="selectedDomainId"
            name="selectedDomainId"
            [ngModelOptions]="{ standalone: true }"
            required
          >
            <option [ngValue]="null">-- Select Domain --</option>
            <option *ngFor="let domain of domains" [ngValue]="domain._id">
              {{ domain.domain_name }}
            </option>
          </select>
        </div>

        <!-- Buttons -->
        <button type="button" class="btn btn-secondary me-2" (click)="goBack()">
          <i class="bi bi-arrow-left"></i> Back to List
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="
            !complianceName.trim() || !selectedDomainId || isSubmitting
          "
        >
          Update Compliance
        </button>
      </form>
    </div>
  </div>
</div>

<div class="text-center mt-4" *ngIf="isLoading">
  <div class="spinner-border text-secondary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
