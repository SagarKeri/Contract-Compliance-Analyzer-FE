<div class="container mt-4" *ngIf="!isLoading">
  <div class="card shadow-lg mb-5">
    <div
      class="card-header bg-secondary text-white d-flex justify-content-between align-items-center"
    >
      <h5 class="mb-0 text-white fw-bold">Clauses</h5>
      <button class="btn btn-primary btn-sm" (click)="addCompliance()">
        <i class="bi bi-plus-circle me-1"></i> Add Clause
      </button>
    </div>

    <div class="card-body">
      <div class="table-responsive" style="max-height: 65vh; overflow-y: auto">
        <table class="table table-bordered table-hover mb-0">
          <thead class="table-light sticky-top">
            <tr>
              <th style="width: 70px">S. No</th>
              <th>Clause Name</th>
              <th>Clause Text</th>
              <th>Domain</th>
              <th>Country</th>
              <th style="width: 120px">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let clause of clauses
                  | paginate : { itemsPerPage: 5, currentPage: p };
                let i = index
              "
            >
              <td>{{ (p - 1) * 5 + i + 1 }}</td>
              <td>{{ clause.clause_name }}</td>
              <td>{{ clause.clause_text }}</td>
              <td>{{ clause.domain_name }}</td>
              <td>{{ clause.country_name }}</td>
              <td>
                <button
                  class="btn btn-outline-info btn-sm me-1"
                  (click)="viewClause(clause._id || 0)"
                >
                  <i class="bi bi-eye"></i>
                </button>
                <button
                  class="btn btn-outline-warning btn-sm me-1"
                  (click)="editClause(clause._id || 0)"
                >
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button
                  class="btn btn-outline-danger btn-sm"
                  (click)="deleteClause(clause._id || 0)"
                >
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination Controls -->
      <div class="d-flex justify-content-center pt-1">
        <pagination-controls
          (pageChange)="p = $event"
          previousLabel="Prev"
          nextLabel="Next"
          class="my-pagination"
        >
        </pagination-controls>
      </div>
    </div>
  </div>
</div>
